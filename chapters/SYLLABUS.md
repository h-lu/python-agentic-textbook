# 14 周教学大纲

## 这门课在干什么

你从零开始学 Python，但不是"学完语法就结束"——每周你都会**做出一个能运行的小东西**，并且用工程师的方式交付它：写代码、跑测试、提交版本、发起代码审查。

14 周下来，你会从"Hello World"走到独立完成一个命令行小工具，并把它作为 Capstone 项目发布。

## 工作节奏

每周围绕三条线推进：

| 线索 | 做什么 | 为什么 |
|------|--------|--------|
| **Python** | 学一个新概念，用它做本周的小项目 | 编程核心技能 |
| **Agentic 工作流** | Plan → Implement → Verify → Reflect | 养成工程习惯 |
| **Git + PR** | 版本控制 → 远端协作 → 代码审查 | 真实工作流 |

验证工具：`validate_week.py` + `pytest`（从第 1 周就开始用）。
协作平台：自建 Gitea（Pull Request 流程语义等价 GitHub），参考 `shared/gitea_workflow.md`。

## 全书贯穿项目线：PyHelper

除了每周独立的贯穿案例，全书有一条跨越 14 周的**超级线**——**PyHelper**（命令行学习助手）。每周你在学完新概念后，都会给 PyHelper 加一点功能。到 Week 14，它就是你的 Capstone 作品。

详见 `shared/book_project.md`。

## AI 辅助编程的渐进融合

本书不回避 AI——而是教你怎样**驾驭** AI 工具。四个阶段的渐进路径详见 `shared/ai_progression.md`。

## 难度曲线与认知负荷

```
难度
  ▲
  │          ┌───────────┐
  │     ┌────┘           │
  │  ┌──┘                └──────┐
  │──┘                          └──
  └──────────────────────────────────▶ 周次
    01  02  03  04  05  06  07  08  09  10  11  12  13  14
    ╰──── 入门基础 ────╯╰───── 工程进阶 ─────╯╰── 综合实战 ──╯
    平缓上升，建立信心    陡峭攀升，核心突破     综合应用，回落收敛
```

每周引入的新概念有上限（入门 4 个、进阶 5 个、实战 4 个），并且必须有**回顾桥**——在新内容中自然引用之前学过的概念。详见 `CLAUDE.md` 的"认知负荷预算"章节。

---

## 阶段一：入门基础（Week 01–05）

> **目标**：能写出 100 行以内的 Python 脚本，能读懂报错，会用 Git 保存进度。
>
> **这五周你会经历什么**：从完全不会编程，到能写出一个会和你"聊天"的小程序。每周的项目都比上周多一点本事——先是让程序说话，然后让它记住东西，接着让它做判断、做重复的事，最后让它把数据存下来。你会发现，编程其实就是不断给程序加能力的过程。

### Week 01：你的第一个程序

**Python**：`print()`、变量、`input()`、字符串、f-string
**Agentic**：什么是 DoD（Definition of Done）；学会跑 `validate_week.py` 和 `pytest`
**Git**：为什么要版本控制；`init` / `status` / `add` / `commit` / `log`
**贯穿案例**：个人名片生成器——从硬编码输出到交互式输入再到格式美化
**PyHelper 进度**：能打印一句鼓励的话

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 记忆 + 理解（能复述概念、能读懂代码） |
| 新概念预算 | 4 个：print、变量、input、f-string |
| 回顾桥 | 无（起点周） |
| AI 融合 | 观察期：侧栏介绍 AI 编程工具存在 |
| 难度系数 | 1/5 |
| 预期学习时长 | 4-5 小时 |

### Week 02：让程序做选择

**Python**：`if` / `elif` / `else`、`for` 循环、`while` 循环、布尔逻辑
**Agentic**：用"输入→输出示例表"约束实现；先写失败用例再修代码
**Git**：`diff`；提交信息规范（动词开头 + 说明变更）
**贯穿案例**：猜数字游戏——从单次判断到循环猜测，加范围提示和次数限制
**PyHelper 进度**：根据用户心情推荐学习建议（if/else 分支）

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 理解 + 应用（能在新场景中使用 if/for/while） |
| 新概念预算 | 4 个：if/elif/else、for 循环、while 循环、布尔表达式 |
| 回顾桥 | 引用 W01 的 print/input/变量（在新场景中再次使用） |
| AI 融合 | 观察期：侧栏讨论 AI 代码补全的原理 |
| 难度系数 | 2/5 |
| 预期学习时长 | 5-6 小时 |

### Week 03：把问题切小

**Python**：函数定义、参数、返回值、作用域基础
**Agentic**：把一个需求拆成 3–5 个函数，画调用关系再动手
**Git**：分支入门——`switch -c` / `checkout -b`；合并的概念
**贯穿案例**：单位换算器——从一个大函数到多个小函数，加菜单选择
**PyHelper 进度**：把功能拆成函数，加文字菜单

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 应用 + 分析（能把问题分解为函数） |
| 新概念预算 | 4 个：函数定义、参数、返回值、作用域 |
| 回顾桥 | 引用 W01 的变量和 W02 的 if/while（函数内部用到） |
| AI 融合 | 观察期：侧栏比较人写的函数和 AI 写的函数有什么不同 |
| 难度系数 | 2.5/5 |
| 预期学习时长 | 5-6 小时 |

### Week 04：用列表和字典组织数据

**Python**：`list` / `dict`、遍历、常见操作模式（过滤、聚合、查找）
**Agentic**：先画数据结构（输入 → 中间态 → 输出）再写代码
**Git**：安全撤销——`restore`、`reset --soft`
**贯穿案例**：班级成绩单——录入、存储、查询、排序，感受"数据驱动"
**PyHelper 进度**：用字典存学习记录，能查询和统计

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 应用 + 分析（能选择合适的数据结构） |
| 新概念预算 | 4 个：list、dict、遍历模式、数据驱动设计 |
| 回顾桥 | 引用 W02 的 for 循环（遍历列表/字典）和 W03 的函数（封装操作） |
| AI 融合 | 识别期开始：作业含"审查 AI 生成的列表操作代码"练习 |
| 难度系数 | 3/5 |
| 预期学习时长 | 6-7 小时 |

### Week 05：读写文件——程序的记忆

**Python**：文件读写、`pathlib`、编码问题、简单日志（可选）
**Agentic**：错误场景清单（空文件 / 文件不存在 / 权限 / 编码）→ 逐一处理
**Git**：连接远端 Gitea——`remote add origin`、`push -u`、`pull`
**贯穿案例**：日记本工具——写入、追加、读取、按日期查看
**PyHelper 进度**：把学习记录存到文件，下次打开还在

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 应用 + 评价（能判断哪些场景需要文件操作） |
| 新概念预算 | 4 个：open/read/write、pathlib、编码、with 语句 |
| 回顾桥 | 引用 W04 的字典（文件存的就是字典数据）和 W03 的函数（封装读写操作） |
| AI 融合 | 识别期：作业含"AI 生成的文件处理代码有什么潜在 bug"分析 |
| 难度系数 | 3/5 |
| 预期学习时长 | 6-7 小时 |

---

## 阶段二：工程进阶（Week 06–10）

> **目标**：能写 200–500 行的小项目，有异常处理、模块拆分、自动化测试，会用 PR 协作。
>
> **这五周你会经历什么**：你已经能写出"能跑"的程序了，但"能跑"和"靠谱"之间还有鸿沟。这个阶段你会学到怎样让程序不崩溃、怎样把代码组织成项目、怎样用测试保护代码。到阶段结束时，你的代码不只是"能跑"，而是"敢给别人用"。

### Week 06：让程序不崩

**Python**：`try` / `except`、异常类型、输入校验、自定义错误消息
**Agentic**：失败优先——先定义"什么算错"再写"怎么算对"
**Git/PR**：从本周开始固定 PR 流程（必做）：分支 → 多次提交 → push → PR → review → merge
**贯穿案例**：健壮的计算器——处理除零、非法输入、溢出，让程序"优雅地报错"
**PyHelper 进度**：处理各种非法输入不崩溃

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 分析 + 评价（能预判错误场景并设计防御） |
| 新概念预算 | 4 个：try/except、异常类型、输入校验、LBYL vs EAFP |
| 回顾桥 | 引用 W05 的文件操作（文件不存在就是异常）和 W02 的 if/else（校验逻辑） |
| AI 融合 | 识别期：作业含"让 AI 列出一段代码的可能异常，你来判断对不对" |
| 难度系数 | 3.5/5 |
| 预期学习时长 | 7-8 小时 |

### Week 07：从脚本到项目

**Python**：`import`、模块拆分、简单包结构、`__name__ == "__main__"`
**Agentic**：重构计划——不改变行为的前提下整理代码结构
**Git/PR**：延续 PR 流程
**贯穿案例**：把前几周的工具重构成一个多模块项目
**PyHelper 进度**：拆成多文件项目结构（main.py + helpers.py + storage.py）

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 分析 + 综合（能把单文件脚本重组为模块化项目） |
| 新概念预算 | 4 个：import、模块、包结构、__name__ |
| 回顾桥 | 引用 W03 的函数（模块就是函数的集合）和 W05 的文件路径（模块路径） |
| AI 融合 | 识别期：用 AI 建议重构方案，学生决定是否采纳 |
| 难度系数 | 3.5/5 |
| 预期学习时长 | 7-8 小时 |

### Week 08：用测试保护代码

**Python**：`pytest` 断言、基础 fixture、参数化测试
**Agentic**：TDD 小步循环——写一个失败测试 → 最小实现 → 通过 → 重构
**Git/PR**：延续 PR 流程
**贯穿案例**：给 Week 06 的计算器补全测试套件
**PyHelper 进度**：给核心功能补全 pytest 测试

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 评价 + 创造（能设计测试用例矩阵） |
| 新概念预算 | 4 个：assert、fixture、参数化测试、TDD 循环 |
| 回顾桥 | 引用 W06 的异常处理（测试异常路径）和 W03 的函数（测试就是调用函数并检查结果） |
| AI 融合 | 协作期开始：作业含"用 AI 辅助生成测试用例，你来审查和补充" |
| 难度系数 | 4/5 |
| 预期学习时长 | 8-9 小时 |

### Week 09：文本处理的瑞士军刀

**Python**：字符串方法全家福、基础正则表达式、常见陷阱
**Agentic**：用边界用例（空输入 / 特殊字符 / 超长文本 / 多行）驱动修复
**Git/PR**：延续 PR 流程
**贯穿案例**：日志分析器——从文本文件中提取、过滤、统计信息
**PyHelper 进度**：支持搜索和过滤学习笔记

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 应用 + 创造（能用字符串方法和正则解决实际问题） |
| 新概念预算 | 5 个：字符串方法、split/join、正则基础、re 模块、边界用例思维 |
| 回顾桥 | 引用 W05 的文件读写（读文件→处理文本）和 W04 的列表（处理结果存列表） |
| AI 融合 | 协作期：作业含"让 AI 写正则，你用边界用例验证" |
| 难度系数 | 4/5 |
| 预期学习时长 | 8-9 小时 |

### Week 10：和数据格式打交道

**Python**：JSON / YAML 序列化与反序列化、配置文件、数据契约
**Agentic**：把"输入格式"写成可验证契约（用 tests + anchors 守护）
**Git/PR**：延续 PR 流程
**贯穿案例**：配置管理器——读取 / 验证 / 合并配置文件
**PyHelper 进度**：学习记录改用 JSON 格式，支持导入导出

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 应用 + 评价（能设计数据格式并验证契约） |
| 新概念预算 | 5 个：JSON 读写、YAML 基础、序列化/反序列化、数据契约、schema 验证 |
| 回顾桥 | 引用 W05 的文件读写（JSON 就是结构化的文件）和 W04 的字典（JSON 就是字典的文本形式） |
| AI 融合 | 协作期：用 AI 辅助调试格式解析错误 |
| 难度系数 | 4.5/5（本书峰值） |
| 预期学习时长 | 8-9 小时 |

---

## 阶段三：综合实战（Week 11–14）

> **目标**：能独立完成一个可交付的命令行工具项目，包含测试、文档和发布流程。
>
> **这四周你会经历什么**：你已经有了足够的"武器库"。这个阶段不再教太多新概念，而是把前 10 周学过的东西综合起来，做出一个真正可以用的工具。你会体验从设计到发布的完整流程——这正是 AI 时代里"理解全局"比"记住语法"更重要的原因。

### Week 11：用 dataclass 管理状态

**Python**：`dataclasses`、最小封装、状态管理（不走重型 OOP）
**Agentic**：先定接口再实现——把变化隔离在边界
**Git/PR**：延续 PR 流程
**贯穿案例**：待办事项管理器——用 dataclass 建模任务状态
**PyHelper 进度**：用 dataclass 管理笔记和学习计划状态

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 综合 + 创造（能设计数据模型并实现） |
| 新概念预算 | 4 个：dataclass、字段默认值、类型提示基础、状态管理 |
| 回顾桥 | 引用 W04 的字典（dataclass 是"有名字的字典"）、W10 的 JSON（dataclass 与序列化）、W06 的校验（字段验证） |
| AI 融合 | 主导期开始：用 AI 结对设计 dataclass 结构，学生审查 |
| 难度系数 | 3.5/5（回落） |
| 预期学习时长 | 7-8 小时 |

### Week 12：做一个真正的命令行工具

**Python**：`argparse` 子命令、参数设计、退出码、`logging`
**Agentic**：发布清单——可运行、可验证、可回滚
**Git/PR**：延续 PR 流程
**贯穿案例**：把 Week 11 的待办管理器变成完整的 CLI 工具
**PyHelper 进度**：用 argparse 做完整 CLI（add/list/search/export 子命令）

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 综合 + 创造（能设计和实现完整 CLI 应用） |
| 新概念预算 | 4 个：argparse、子命令、退出码、logging |
| 回顾桥 | 引用 W07 的模块拆分（CLI 是多模块项目）、W06 的异常处理（CLI 需要优雅错误）、W08 的测试（CLI 的集成测试） |
| AI 融合 | 主导期：AI 辅助生成 argparse 样板代码，学生设计交互逻辑 |
| 难度系数 | 3.5/5 |
| 预期学习时长 | 8-9 小时 |

### Week 13：Agentic 团队工作流

**主题**：subagents / skills / hooks、review checklist、失败驱动迭代
**Agentic**：用 Claude Code 的 agent team 模式完成一个协作任务
**Git/PR**：review 作为 DoD 的一部分
**贯穿案例**：用 agent team 协作完成一个文档生成工具
**PyHelper 进度**：用 agent team 协作完善 PyHelper 的文档和测试

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 评价 + 创造（能设计协作流程并审查 AI 输出） |
| 新概念预算 | 3 个：agent team 模式、review checklist、失败驱动迭代 |
| 回顾桥 | 引用 W08 的测试（作为 review 的硬证据）、W07 的项目结构（agent 分工前提）、W12 的 CLI（被协作优化的对象） |
| AI 融合 | 主导期：这一周本身就是 AI 协作实战 |
| 难度系数 | 3/5（重点在流程不在语法） |
| 预期学习时长 | 7-8 小时 |

### Week 14：Capstone：收敛发布

**主题**：把前 13 周技能收敛成一个可交付项目（PyHelper v1.0）
**交付**：补测试、补文档、写 release notes、最终 PR + 可选 tag 发布
**贯穿案例**：就是 Capstone 项目本身——从规划到发布的完整流程
**PyHelper 进度**：Capstone 收敛——发布 PyHelper v1.0

| 维度 | 说明 |
|------|------|
| Bloom 层次 | 创造 + 评价（能独立完成从设计到发布的全流程） |
| 新概念预算 | 2 个：release notes 写法、tag 发布 |
| 回顾桥 | 全面回顾 14 周内容——这就是最大的回顾桥 |
| AI 融合 | 主导期：AI 作为全程结对伙伴 |
| 难度系数 | 3/5（收敛期） |
| 预期学习时长 | 8-10 小时 |

---

## 学习弧线总览

```
Week 01─05                Week 06─10                Week 11─14
┌──────────────┐      ┌──────────────────┐      ┌───────────────┐
│  入门基础     │      │  工程进阶         │      │  综合实战      │
│              │      │                  │      │               │
│ 脚本 < 100行 │  →   │ 小项目 200-500行  │  →   │ 可交付 CLI工具  │
│ 本地 Git     │      │ PR 协作流程       │      │ 完整发布流程   │
│ 手动验证     │      │ 自动化测试        │      │ Capstone 收敛  │
│ AI 观察期    │      │ AI 识别→协作期    │      │ AI 主导期      │
│              │      │                  │      │               │
│ PyHelper:    │      │ PyHelper:        │      │ PyHelper:     │
│ 从零到能存盘 │      │ 健壮+模块化+测试  │      │ 完整CLI→发布  │
└──────────────┘      └──────────────────┘      └───────────────┘

Bloom 层次    ：记忆→理解→应用  →  分析→评价     →  综合→创造
认知负荷      ：平缓上升       →  陡峭攀升        →  回落收敛
```

## 概念依赖关系

```
print/input/变量 (W01)
    ├── if/for/while (W02)
    │     ├── 函数 (W03) ─────────────────────┐
    │     │     ├── 列表/字典 (W04)            │
    │     │     │     ├── 文件读写 (W05)       │
    │     │     │     │     ├── 异常处理 (W06)  │
    │     │     │     │     │     └── 模块化 (W07)
    │     │     │     │     │           ├── pytest (W08)
    │     │     │     │     │           │     └── 文本处理 (W09)
    │     │     │     │     │           │           └── JSON/YAML (W10)
    │     │     │     │     │           │                 └── dataclass (W11)
    │     │     │     │     │           │                       └── CLI (W12)
    │     │     │     │     │           │                             └── Agent Team (W13)
    │     │     │     │     │           │                                   └── Capstone (W14)
    ├────────────────────────────────────┘
    （函数从 W03 起被所有后续周反复使用）
```
