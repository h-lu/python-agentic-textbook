# Week 14 评分标准：整理并发布你的 Python 项目

## 评分总览

| 练习 | 分值 | 核心能力 |
|------|------|---------|
| 练习 1（基础） | 30 分 | 代码收敛、项目结构整理、测试 |
| 练习 2（进阶） | 40 分 | README 撰写、文档质量 |
| 练习 3（挑战） | 30 分 | Release Notes、Git tag 发布 |
| **总分** | **100 分** | |

加分项（可选）：
- 练习 4（全书知识地图）：10 分
- AI 协作练习：10 分

最高分：120 分

---

## 练习 1：代码收敛（30 分）

### 功能正确性（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 删除冗余代码 | 5 分 | 提取重复逻辑到公共函数；没有明显的重复代码（同样逻辑出现 2 次以上） |
| 统一代码风格 | 5 分 | 变量命名统一（snake_case）；导入顺序符合 PEP 8；代码格式一致 |
| 优化项目结构 | 5 分 | 模块划分清晰（源代码在包里，测试在单独目录）；符合 Python 最佳实践 |

### 代码质量（10 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 模块划分清晰 | 4 分 | 每个模块职责单一；没有"万能模块"（所有逻辑堆在一个文件） |
| 变量命名规范 | 3 分 | 变量名清晰（如 `note_info` 而非 `data`）；符合 PEP 8（snake_case） |
| 代码可读性 | 3 分 | 代码不混乱；适当的注释（不过度注释） |

### 测试覆盖（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 核心功能有测试 | 3 分 | 每个主要功能至少有一个测试 |
| 测试边界情况 | 2 分 | 测试了空输入、无效值等边界情况 |

### 扣分项

- ❌ 没有删除重复代码（同样的逻辑出现 3 次以上）：**-5 分**
- ❌ 变量命名混乱（混用 snake_case 和 camelCase）：**-3 分**
- ❌ 导入顺序混乱（标准库、第三方库、本地模块混在一起）：**-2 分**
- ❌ 项目结构混乱（所有文件在根目录）：**-5 分**
- ❌ 没有任何测试：**-5 分**

### 测试支撑

```python
# 测试项目结构
def test_project_structure():
    """测试项目结构符合规范"""
    assert Path("your_project/__init__.py").exists()
    assert Path("tests/test_commands.py").exists()
    assert Path("README.md").exists()

# 测试代码风格
def test_import_order():
    """测试导入顺序符合 PEP 8"""
    # 读取文件，检查导入顺序
    # 标准库 → 第三方库 → 本地模块
    ...

# 测试重复代码
def test_no_duplicate_validation():
    """测试没有重复的校验逻辑"""
    # 检查是否提取了公共函数
    assert "validate_content" in utils_text
```

---

## 练习 2：写 README.md（40 分）

### 内容完整性（20 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 项目简介 | 5 分 | 第一段有项目简介（一句话说明这是什么）；有目标用户说明 |
| 安装步骤 | 5 分 | 有清晰的安装步骤；用户能照着安装；安装命令能跑 |
| 快速开始 | 5 分 | 有快速开始示例；用户能照着运行；示例代码简洁（3-5 行） |
| 主要功能 | 5 分 | 有主要功能列表；每个功能一句话说明；功能列表完整 |

### 示例质量（10 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 示例可运行 | 5 分 | README 中的示例代码能直接复制运行；不会报错 |
| 示例有意义 | 5 分 | 示例展示核心功能；不是 trivial 的例子（如只打印 "Hello World"） |

### 文档质量（10 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 简洁清晰 | 4 分 | 用户能在 30 秒内理解项目；没有长篇大论的技术细节 |
| 常见问题/配置 | 3 分 | 有 FAQ 或配置说明；回答了用户最常问的问题 |
| 结构清晰 | 3 分 | 有清晰的小标题；段落分明；不是大段文字堆砌 |

### 扣分项

- ❌ 只有一行项目名称，用户不知道这是干什么的：**-10 分**
- ❌ 没有安装步骤或安装步骤太复杂：**-8 分**
- ❌ 没有快速开始示例：**-10 分**
- ❌ 示例代码跑不通：**-10 分**（最严重的问题）
- ❌ 示例代码太复杂（超过 20 行）：**-3 分**
- ❌ 写了太多技术细节（用户不关心的内部实现）：**-3 分**
- ❌ 没有常见问题或配置说明：**-3 分**

### 测试支撑

```python
# 测试 README 存在且非空
def test_readme_exists():
    """测试 README 存在"""
    readme_path = Path("README.md")
    assert readme_path.exists()
    assert readme_path.stat().st_size > 500  # 至少 500 字

# 测试 README 包含关键内容
def test_readme_content():
    """测试 README 包含关键内容"""
    readme = Path("README.md").read_text()
    assert "安装" in readme or "Install" in readme
    assert "使用" in readme or "Usage" in readme
    assert "```" in readme  # 有代码块

# 测试示例代码可运行
def test_readme_examples_runnable():
    """测试 README 中的示例代码能跑"""
    readme = Path("README.md").read_text()
    # 提取代码块，尝试运行（伪代码）
    ...
```

---

## 练习 3：写 Release Notes + Git Tag 发布（30 分）

### Release Notes 质量（15 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 版本信息 | 3 分 | 有版本号（v1.0.0）；有发布日期（当天日期） |
| 主要变化 | 6 分 | 清晰说明"新增功能"（不是只写"bug 修复"）；功能列表准确（不编造不存在的功能） |
| 安装与快速开始 | 4 分 | 有安装步骤；有使用示例；示例能跑 |
| 升级指南/已知问题 | 2 分 | 有升级指南（即使是"这是第一个版本"）；有已知问题（可选但加分） |

### Git Tag 操作（10 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 创建 tag | 4 分 | 创建了 tag（`git tag` 能看到 v1.0.0）；tag 带有注释（`-a` 参数） |
| 推送 tag | 3 分 | tag 已推送到远程（`git push origin v1.0.0`） |
| 版本号规范 | 3 分 | 版本号符合语义化规范（v1.0.0）；不是随意命名（如 final、release） |

### CHANGELOG.md（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 文件存在 | 2 分 | 有 CHANGELOG.md 文件 |
| 版本历史 | 3 分 | 有版本历史记录；格式清晰（日期 + 变化） |

### 扣分项

- ❌ release notes 只写"bug 修复"、"性能优化"（太模糊）：**-8 分**
- ❌ 版本号不规范（用 v1.0 而不是 v1.0.0）：**-5 分**
- ❌ 发布日期不对（用随机日期而不是今天）：**-2 分**
- ❌ 没有安装步骤或快速开始：**-5 分**
- ❌ 忘记推送 tag：**-5 分**
- ❌ 编造不存在的功能：**-10 分**（严重错误）
- ❌ 没有 CHANGELOG.md：**-5 分**

### 测试支撑

```bash
# 测试 tag 存在
git tag

# 测试 tag 详情
git show v1.0.0

# 测试 CHANGELOG 存在
test -f CHANGELOG.md

# 测试 CHANGELOG 内容
grep "v1.0.0" CHANGELOG.md
grep "2026-02-" CHANGELOG.md  # 检查日期（年份动态）
```

---

## 练习 4（可选）：全书知识地图（10 分）

### 内容完整性（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| Top 10 概念 | 3 分 | 列出了 10 个核心概念；概念来自这 14 周 |
| 掌握程度标注 | 2 分 | 为每个概念标注了掌握程度；标注诚实（不是全部"熟练"） |

### 学习计划（5 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 3 条学习计划 | 3 分 | 有 3 条"学完 Python 之后"的计划；计划具体（不是空泛的"继续学习"） |
| 计划可行性 | 2 分 | 计划现实可行；不是"一个月成为专家"这种不切实际的目标 |

### 扣分项

- ❌ 概念少于 10 个：**-3 分**
- ❌ 全部标注"熟练"（不诚实）：**-2 分**
- ❌ 学习计划太模糊（如"深入学习"）：**-3 分**
- ❌ 学习计划不现实（如"一个月精通 Python"）：**-2 分**

---

## AI 协作练习（可选，10 分）

### 审查完整性（4 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| README 审查 | 2 分 | README 审查清单至少勾选了 4 项（共 5 项） |
| Release Notes 审查 | 2 分 | Release Notes 审查清单至少勾选了 4 项（共 5 项） |

### 发现问题（3 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 发现真实问题 | 3 分 | 指出 AI 代码/文档的实际问题（不是虚构的）；至少 2 个问题 |

### 修改说明（3 分）

| 评分项 | 分值 | 评分标准 |
|--------|------|---------|
| 修改合理 | 2 分 | 修改确实解决了问题；不是表面修改 |
| 学到了什么 | 1 分 | 报告中说明了"学到了什么"；不是只罗列问题 |

### 扣分项

- ❌ 直接复制 AI 输出，没有审查：**0 分**（整个 AI 练习不得分）
- ❌ 报告内容空洞（"AI 写的很好，没问题"）：**0 分**
- ❌ 只发现了 1 个问题：**-1 分**
- ❌ 没有说明修改内容：**-1 分**

---

## 代码质量通用标准（所有练习）

### 命名规范（2 分）

- ✅ 变量名用蛇形命名（`note_info` 而非 `noteInfo`）
- ✅ 类名用大驼峰（`ReaderAgent` 而非 `readerAgent`）
- ✅ 避免单字母变量（除 `i`, `x`, `y` 在循环中）

### 类型标注（2 分）

- ✅ 函数参数有类型标注（如 `def read_note(file_path: Path) -> NoteInfo:`）
- ✅ 用 `from typing import List, Optional` 导入类型

### 文档字符串（2 分）

- ✅ 类和主要函数有 docstring（用 `"""` 三引号）
- ✅ Docstring 说明"做什么"（不需要写"怎么做"）

### 异常处理（2 分）

- ✅ 文件操作用 `try/except`
- ✅ 异常信息具体（不是 `except: pass`）

---

## 总分换算

| 分数区间 | 等级 | 描述 |
|---------|------|------|
| 90-100 | 优秀 | 完成所有练习，代码质量高，文档专业 |
| 75-89 | 良好 | 完成基础+进阶，挑战题部分完成 |
| 60-74 | 及格 | 完成基础+进阶，代码能运行但质量一般 |
| 0-59 | 不及格 | 基础题未完成或有严重错误 |

**加分后等级**：
- 100+ 分：卓越（完成所有练习 + 加分项）
- 90-99 分：优秀
- 75-89 分：良好
- 60-74 分：及格
- 0-59 分：不及格

---

## 验收标准（DoD）

### 最低通过标准（60 分）

- [ ] 代码收敛完成（删除冗余、统一风格）
- [ ] 有 README.md（项目说明、安装、使用）
- [ ] 核心功能至少有一个测试
- [ ] 项目结构清晰（符合 Python 最佳实践）

### 理想通过标准（80 分）

- [ ] README.md 专业（项目说明、安装、快速开始、主要功能、示例、常见问题）
- [ ] 示例代码能跑
- [ ] 有 CHANGELOG.md
- [ ] 创建了 Git tag v1.0.0
- [ ] Release Notes 完整（版本信息、主要变化、安装、快速开始）

### 优秀标准（90+ 分）

- [ ] 所有基础题和进阶题要求满足
- [ ] 完成挑战题（Release Notes + Git tag 发布）
- [ ] 或完成全书知识地图
- [ ] 或完成 AI 协作练习并有高质量审查报告
- [ ] 代码风格优秀，注释适当
- [ ] README 和 Release Notes 专业

---

## 验证命令

```bash
# 检查项目结构
ls -la your_project/
ls -la tests/

# 运行测试
python3 -m pytest tests/ -v

# 检查 README
cat README.md
grep "安装" README.md
grep "使用" README.md

# 检查 tag
git tag
git show v1.0.0

# 检查 CHANGELOG
cat CHANGELOG.md
grep "v1.0.0" CHANGELOG.md

# 检查是否推送到远程
git remote -v
git push origin --tags --dry-run  # 预演推送
```

---

## 评分反馈模板

```
Week 14 作业评分反馈

学生：[姓名]
总分：[分数]/100

练习 1（代码收敛，30 分）：[得分]
- [ ] 删除冗余代码
- [ ] 统一代码风格
- [ ] 优化项目结构
- [ ] 补全测试

练习 2（README，40 分）：[得分]
- [ ] 项目简介
- [ ] 安装步骤
- [ ] 快速开始
- [ ] 主要功能
- [ ] 示例可运行
- [ ] 常见问题/配置

练习 3（Release Notes + Tag，30 分）：[得分]
- [ ] 版本信息
- [ ] 主要变化
- [ ] 安装与快速开始
- [ ] Git tag 创建
- [ ] Git tag 推送
- [ ] CHANGELOG.md

练习 4（知识地图，10 分，可选）：[得分]

AI 协作练习（10 分，可选）：[得分]

代码风格（10 分）：[得分]

扣分项：
[ ] 具体问题列表

优点：
[列举 2-3 个做得好的地方]

改进建议：
[列举 2-3 个可以改进的地方]

总体评价：
[一段鼓励性反馈]
```

---

## 教师评分提示

### 快速检查方法

1. **代码收敛**：查看项目结构、打开几个文件看代码风格
2. **README**：打开 README.md，检查是否有安装、使用、示例
3. **示例可运行**：复制 README 中的示例代码，运行一下
4. **Release Notes**：打开 CHANGELOG.md 和 GitHub Release 页面
5. **Git Tag**：运行 `git tag` 和 `git show v1.0.0`

### 常见问题预判

1. **README 太简单**：只有项目名称，没有安装和使用说明
2. **示例代码跑不通**：学生没测试过，只是"看起来对"
3. **Git tag 没推送**：创建了 tag 但忘记 `git push origin v1.0.0`
4. **版本号不规范**：用 `v1.0` 而不是 `v1.0.0`
5. **编造功能**：Release Notes 里写了不存在的功能

### 鼓励性评语示例

- "README 写得很专业！用户能在 30 秒内理解项目。"
- "项目结构清晰，模块划分合理，代码风格统一。"
- "Release Notes 很详细，'主要变化'写得很清楚。"
- "知识地图很诚实，标注的掌握程度很真实。"
- "AI 审查报告写得好，发现了几个关键问题。"

### 改进建议示例

- "建议 README 加一个'常见问题'章节。"
- "示例代码可以更简洁一些，现在有点复杂。"
- "Release Notes 可以加一个'已知问题'章节。"
- "Git tag 可以加上更详细的注释（`-m` 参数）。"
- "建议用 `isort` 自动整理导入顺序。"

---

## 最后提醒

1. **这是最后一周作业**，鼓励学生完成整个流程
2. **重点不是代码多厉害**，而是工程实践的完整性
3. **README 和 Release Notes 是用户看到的东西**，错了会误导用户
4. **Git tag 是真实场景**，让学生体验"版本发布"的感觉
5. **鼓励学生**：从"能跑的代码"到"可发布的软件"是重要的里程碑

祝评分顺利！🎉
