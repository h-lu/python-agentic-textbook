# 写作范例库（供 Agent 参照）

本文件给出"教材写作"的具体 before / after 范例。
所有写章节的 agent 在动笔前必须读此文件，理解"好"与"坏"的区别。

---

## 原则速览

1. **叙事优先，结论收尾**——先带读者经历一个场景/困惑，再给出概念名称。不要上来就"本节介绍 X"。
2. **贯穿案例**——每章围绕一个渐进式小项目展开，每学一个概念就往项目上加一层。读者在章末能拿到一个"有用的小东西"。
3. **变化的节奏**——长句解释、短句点睛；段落叙述与代码块穿插；偶尔反问、偶尔设悬念。不要每节结构都一模一样。
4. **真实的温度**——像一个有经验的老师坐在学生旁边讲，不是一个委员会写的规范文档。

---

## 范例 1：引入新概念

### ❌ 坏（模板填空式）

> ## 2. 变量与赋值
>
> 程序需要"记住"数据。比如计算一个人的 BMI，你需要记住身高和体重，然后才能计算。
>
> 变量的作用就是给数据"贴标签"。想象你有两个盒子，一个贴"身高"，一个贴"体重"——变量名就是那个标签。
>
> ### 2.1 最小正例
>
> ```python
> name = "Alice"
> age = 20
> print(name, "今年", age, "岁")
> ```
>
> 输出：
>
> ```
> Alice 今年 20 岁
> ```

**问题在哪？**
- 一句话概念 → 一个比喻 → 直接跳代码。太快了，没有让读者"感受到需要"。
- "最小正例"这种小标题本身就暴露了模板感。
- 比喻（"贴标签"）过于老套，每个 AI 都会生成这个比喻。

### ✅ 好（场景驱动式）

> ## 2. 让程序记住东西
>
> 上一节我们让 Python 说了"Hello, World!"——但你发现没有？那个程序是"一次性"的。它说完就忘了，下一行代码根本不知道上一行发生了什么。
>
> 现在试一个稍微有意思的事情：你想让程序先问用户叫什么名字，然后跟他打招呼。问题来了——`input()` 拿到名字之后，怎么"记住"它，留到 `print()` 的时候再用？
>
> 答案是**变量**（variable）：
>
> ```python
> name = input("你叫什么名字？")
> print("你好，" + name + "！")
> ```
>
> `name` 就是一个变量。你可以把它想成一个写着名字的便利贴：`input()` 把用户敲进去的文字写在这张便利贴上，后面的代码随时可以去看。
>
> `=` 在这里不是数学的"等于"，而是"把右边的东西存到左边的名字里"。这个动作叫**赋值**（assignment）。第一次见到会觉得别扭，但写几次就习惯了。

**为什么好？**
- 从上一节的成果自然过渡，读者感受到"我确实需要这个新东西"。
- 概念是在解决问题的过程中引出的，不是先定义再举例。
- 比喻（便利贴）出现在代码之后，是辅助理解而非开场白。
- 承认"第一次会觉得别扭"——有温度，像真人在说话。

---

## 范例 2：讲解常见错误

### ❌ 坏（清单罗列式）

> ### 2.3 常见错误
>
> **使用未定义的变量**：
>
> ```python
> print(score)
> ```
>
> 报错：`NameError: name 'score' is not defined`
>
> 原因：使用变量前必须先赋值。Python 找不到名为 `score` 的标签。
>
> **大小写不匹配**：
>
> ```python
> name = "Bob"
> print(Name)
> ```
>
> 报错：`NameError: name 'Name' is not defined`
>
> 原因：定义的是小写的 `name`，使用时却写了大写的 `Name`。

**问题在哪？**
- 像 bug 数据库的工单列表，不像教材。
- 没有任何"学生真的会在什么情况下犯这个错"的铺垫。
- 读者感觉在被警告，而不是在学东西。

### ✅ 好（情境还原式）

> 写完上面那段代码运行一下。如果顺利，你会看到正确的输出。
>
> 但很可能不顺利——初学者（甚至老手）最常碰到的一个意外是这样的：
>
> ```python
> name = "小明"
> print(Name)   # 注意这里的大写 N
> ```
>
> 运行后 Python 会报错：
>
> ```
> NameError: name 'Name' is not defined
> ```
>
> 你定义的是 `name`（小写），但用的是 `Name`（大写）。在 Python 的世界里，这是两个完全不同的名字——就像"张伟"和"张威"在户口本上是两个人。Python 不会猜你"大概是想说那个 name 吧"，它会直接告诉你"我不认识 Name"。
>
> 所以养成一个习惯：**变量名全部用小写字母加下划线**（比如 `user_name`），这样永远不会在大小写上翻车。

**为什么好？**
- 错误是在"学生正在写代码"的语境中出现的，不是突然跳出来的清单。
- 报错信息之后有"拟人化"的解释（"Python 不会猜"），帮助读者建立直觉。
- 收尾给了一个可执行的习惯建议，不只是说"注意大小写"。

---

## 范例 3：章节开头（引入动机）

### ❌ 坏

> ## 3. 输入与输出
>
> 程序如果只是自己运行、自己输出，那就和计算器没区别。真正的程序需要**与用户交互**——询问信息，然后给出回应。

**问题在哪？**
- "和计算器没区别"是一个正确但无感的陈述。读者不会因为这句话而好奇。
- 两句话就把动机讲完了，太仓促。

### ✅ 好

> ## 3. 跟用户聊起来
>
> 到目前为止，我们的程序都是"自说自话"：你写好代码，它输出固定的结果，每次运行都一模一样。这有点无聊——你肯定见过那些会问你问题的程序，比如注册账号时让你输入用户名、密码。
>
> 那 Python 怎么做到"等用户输入"这件事呢？

**为什么好？**
- 先让读者意识到"现在的程序确实无聊"。
- 用读者真实见过的场景（注册账号）唤起经验。
- 最后一句是问句，制造了一个小悬念，读者想继续读下去。

---

## 范例 4：小结的写法

### ❌ 坏（项目符号堆砌）

> ### 3.4 小结
>
> - `input()` 获取用户输入，返回字符串
> - 数字运算前需要用 `int()` 转换成整数
> - 如果输入的内容无法转换，会报 ValueError

### ✅ 好（回顾 + 展望）

> 这一节你学会了让程序"等人说话"。`input()` 拿到的东西永远是文字（字符串），如果你要拿它做数学运算，得先用 `int()` 告诉 Python"这其实是个数字"。
>
> 到这里，你已经掌握了输出（`print`）、记忆（变量）和输入（`input`）。下一节我们来聊聊文字本身——Python 里的字符串比你想的能干得多。

**为什么好？**
- 用叙述而非列表，读起来是"一段话"而不是"三条规则"。
- 把本节放在全章脉络里（"你已经掌握了……"），帮读者建立进度感。
- 自然引出下一节，读者有继续读的欲望。

---

## 范例 5：贯穿案例的用法

一章围绕一个渐进式小项目展开。week_01 的贯穿案例可以是**"个人名片生成器"**：

- 第 1 节（print）：先硬编码输出一张固定名片
- 第 2 节（变量）：把姓名、年龄存进变量，名片变得"可配置"
- 第 3 节（input）：让用户自己输入信息，名片变成"交互式"
- 第 4 节（字符串）：用 f-string 美化名片格式
- 第 5 节（错误）：故意触发各种错误，学会读报错信息

每节末尾都能运行，看到"名片"在一步步变好——读者有成就感。

---

## 禁忌清单

| 编号 | 禁忌 | 替代 |
|------|------|------|
| 1 | 每节用相同的子标题模式（"最小正例""常见错误""小结"） | 让内容决定结构，每节可以不同 |
| 2 | 用"在本节中，我们将…"开头 | 用场景/问题/悬念开头 |
| 3 | 列表超过 5 条连续出现 | 拆散到段落叙述中 |
| 4 | "编程本质上是…"类的空泛定义 | 用具体场景替代 |
| 5 | 一节内只有代码块 + 一句话解释 | 代码前后都要有足够的叙述上下文 |
| 6 | 用"重要心态""注意"等说教标签 | 把态度建议织进叙述里 |
| 7 | 每节末尾都用项目符号列表做小结 | 可以用叙述段落、可以用表格、可以用回顾问句 |
